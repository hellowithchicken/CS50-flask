{% extends "layout.html" %}

{% block title %}
    Roles
{% endblock %}

{% block main %}
<div class="container">
  <div class="row">
    <div class="card-columns">
        <div class="card mb-4 shadow-sm">
          <div class="card-header">
            <h1 class="my-0 font-weight-normal">Add roles</h1>
          </div>
          <div class="card-body">
            <h5>Life is made up of different roles - you may just not realise it.</h5>
            <ol class="list-unstyled mt-3 mb-4">
              <li>1. Set name of the role e.g. Student</li>
              <li>2. Set a longterm goal e.g. Achieve above 70% this semester.</li>
            </ol>
            <h3>You can set up to 8 roles</h3>
          </div>
        </div>
        {% if roles|length < 8 %}
        <form action="/roles" method="post">
            <div class="card mb-4 shadow-sm">
              <div class="card-header">
                  <h3 class = "text-center">Create.</h3>
                  <div class="form-group">
                    <input class="form-control" placeholder="Role name" name = 'roleName'required="true">
                  </div>
              </div>
              <div class="card-body">
                  <div class="form-group">
                    <input class="form-control" placeholder="Longterm goal" name = 'longTerm' required="true">
                  </div>
              <button class="btn btn-primary" type="submit">Create</button>
              </div>
            </div>
        </form>
        {% else %}
        <div class="card mb-4 shadow-sm">
          <div class="card-body">
              <div class="form-group">
                  <h3> You have reached the maximum amount of roles.</h3>
              </div>
          </div>
        </div>
        {% endif %}
          {% for role in roles %}
          <div class="card mb-4 shadow-sm">
            <div class="card-header">
              <h1 class="my-0 font-weight-normal">{{ role["name"] }}</h1>
            </div>
            <div class="card-body">
              <h5>{{ role["description"] }}</h5>
              <a class="btn btn-outline-secondary" href="/roles/edit/{{role['id']}}" role="button">Edit</a>
              <a class="btn btn-info" href="/roles/delete/{{role['id']}}" role="button">Delete</a>
            </div>
          </div>
          {% endfor %}
    </div>
</div>
{% endblock %}

